<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯»å®å¤§å†’é™©</title>
    <style>
        body {
            font-family: 'Georgia', 'Times New Roman', serif; /* æ”¹ä¸ºå¤å¤å­—ä½“ */
            background: linear-gradient(135deg, #8B4513 0%, #CD853F 100%); /* å¯»å®ä¸»é¢˜è‰² */
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: #2C1810;
            position: relative;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.2) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, rgba(210, 105, 30, 0.2) 0%, transparent 20%);
        }
        
        /* æ·»åŠ è£…é¥°å›¾æ ‡ */
        body::before {
            content: "ğŸ—ºï¸";
            position: absolute;
            top: 10%;
            left: 10%;
            font-size: 2em;
            opacity: 0.3;
        }
        
        body::after {
            content: "ğŸ’°";
            position: absolute;
            bottom: 10%;
            right: 10%;
            font-size: 2em;
            opacity: 0.3;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.85); /* æ”¹ä¸ºåŠé€æ˜ç™½åº• */
            border-radius: 20px;
            padding: 30px;
            border: 3px solid #8B4513; /* æ·»åŠ è¾¹æ¡† */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            color: #2C1810; /* æ–‡å­—æ”¹ä¸ºæ·±æ£•è‰² */
        }
        
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
            color: #8B4513; /* æ ‡é¢˜æ”¹ä¸ºæ£•è‰² */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress-container {
            background: rgba(139, 69, 19, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #8B4513;
        }
        
        .progress-bar {
            height: 20px;
            background: rgba(139, 69, 19, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid #8B4513;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8B4513, #CD853F); /* æ”¹ä¸ºå¯»å®ä¸»é¢˜è‰² */
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .log-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            border: 1px solid #8B4513;
        }
        
        .log-entry {
            margin: 5px 0;
            padding: 8px;
            border-radius: 5px;
            animation: fadeIn 0.5s ease;
            border-left: 3px solid;
        }
        
        .success {
            background: rgba(46, 204, 113, 0.2);
            color: #27ae60;
            border-left-color: #27ae60;
        }
        
        .error {
            background: rgba(231, 76, 60, 0.2);
            color: #c0392b;
            border-left-color: #c0392b;
        }
        
        .action-btn {
            display: block;
            width: 200px;
            margin: 20px auto;
            padding: 15px 30px;
            font-size: 1.2em;
            background: linear-gradient(45deg, #8B4513, #CD853F); /* æ”¹ä¸ºå¯»å®ä¸»é¢˜è‰² */
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: transform 0.3s ease;
            font-family: inherit;
        }
        
        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .treasure-animation {
            animation: pulse 1s infinite;
            font-size: 3em;
            text-align: center;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—ºï¸ å¯»å®å¤§å†’é™©</h1>
        
        <div class="progress-container">
            <h3>å¯»å®è¿›åº¦</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div id="progressText">å‡†å¤‡å¼€å§‹å¯»å®...</div>
        </div>
        
        <div class="treasure-animation" id="treasureIcon">ğŸ§­</div>
        
        <div class="log-container" id="logContainer">
            <div class="log-entry">ç‚¹å‡»å¼€å§‹æŒ‰é’®å¼€å§‹å¯»å®ä¹‹æ—…ï¼</div>
        </div>
        
        <button class="action-btn" id="startBtn" onclick="startTreasureHunt()">å¼€å§‹å¯»å®</button>
    </div>

    <script>
        class TreasureMap {
            static getInitialClue() {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("ğŸ—ºï¸ åœ¨å¤è€çš„å›¾ä¹¦é¦†é‡Œæ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªçº¿ç´¢...");
                    }, 1000);
                });
            }

            static decodeAncientScript(clue) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (!clue) {
                            reject("âŒ æ²¡æœ‰çº¿ç´¢å¯ä»¥è§£ç !");
                        }
                        resolve("ğŸ“œ è§£ç æˆåŠŸ!å®è—åœ¨ä¸€åº§å¤è€çš„ç¥åº™ä¸­...");
                    }, 1500);
                });
            }

            static navigateForest(location) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const random = Math.random();
                        if (random < 0.3) {
                            reject("ğŸ•·ï¸ ç³Ÿç³•!é‡åˆ°äº†æ¯’èœ˜è››!");
                        }
                        resolve("ğŸŒ² æˆåŠŸç©¿è¶Šäº†ç¥ç§˜æ£®æ—ï¼Œåˆ°è¾¾äº†ç¥åº™å…¥å£...");
                    }, 1200);
                });
            }

            static solveRiddle(location) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const random = Math.random();
                        if (random < 0.4) {
                            reject("ğŸ§© è°œé¢˜å¤ªéš¾ï¼Œè§£ä¸å¼€!");
                        }
                        resolve("ğŸ§  èªæ˜çš„è§£å¼€äº†å¤è€çš„è°œé¢˜...");
                    }, 1800);
                });
            }

            static searchTemple(location) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        const random = Math.random();
                        if (random < 0.5) {
                            reject("âš”ï¸ ç³Ÿç³•!é‡åˆ°äº†ç¥åº™å®ˆå«!");
                        }
                        resolve("ğŸ—ï¸ æ‰¾åˆ°äº†ä¸€ä¸ªç¥ç§˜çš„ç®±å­...");
                    }, 2000);
                });
            }

            static openTreasureBox() {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("ğŸ’° æ­å–œ!ä½ æ‰¾åˆ°äº†ä¼ è¯´ä¸­çš„å®è—!");
                    }, 1000);
                });
            }

            static receiveBlessing() {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve("âœ¨ å®è—æ•£å‘å‡ºç¥ç§˜å…‰èŠ’ï¼Œä½ è·å¾—äº†æ°¸ä¹…çš„ç¥ç¦!");
                    }, 1000);
                });
            }
        }

        let logContainer = document.getElementById('logContainer');
        let progressFill = document.getElementById('progressFill');
        let progressText = document.getElementById('progressText');
        let startBtn = document.getElementById('startBtn');
        let treasureIcon = document.getElementById('treasureIcon');

        function addLog(message, type = 'success') {
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function updateProgress(percentage, text) {
            progressFill.style.width = percentage + '%';
            progressText.textContent = text;
        }

        async function startTreasureHunt() {
            startBtn.disabled = true;
            addLog("ğŸ¯ å¼€å§‹å¯»å®ä¹‹æ—…!", 'success');
            updateProgress(0, 'å‡†å¤‡å‡ºå‘...');
            treasureIcon.textContent = 'ğŸ§­';

            try {
                updateProgress(10, 'æ­£åœ¨å‰å¾€å›¾ä¹¦é¦†...');
                treasureIcon.textContent = 'ğŸ“š';
                const clue = await TreasureMap.getInitialClue();
                addLog(clue, 'success');
                updateProgress(20, 'è·å¾—åˆå§‹çº¿ç´¢');

                updateProgress(25, 'è§£ç å¤ä»£æ–‡å­—...');
                treasureIcon.textContent = 'ğŸ“œ';
                const decoded = await TreasureMap.decodeAncientScript(clue);
                addLog(decoded, 'success');
                updateProgress(40, 'æˆåŠŸè§£ç ');

                updateProgress(45, 'ç©¿è¶Šç¥ç§˜æ£®æ—...');
                treasureIcon.textContent = 'ğŸŒ²';
                const forestResult = await TreasureMap.navigateForest(decoded);
                addLog(forestResult, 'success');
                updateProgress(60, 'ç©¿è¶Šæ£®æ—æˆåŠŸ');

                updateProgress(65, 'è§£å¼€å¤è€è°œé¢˜...');
                treasureIcon.textContent = 'ğŸ§©';
                const riddleResult = await TreasureMap.solveRiddle(forestResult);
                addLog(riddleResult, 'success');
                updateProgress(80, 'è°œé¢˜å·²è§£å¼€');

                updateProgress(85, 'æœç´¢ç¥åº™...');
                treasureIcon.textContent = 'ğŸ›ï¸';
                const box = await TreasureMap.searchTemple(riddleResult);
                addLog(box, 'success');
                updateProgress(90, 'æ‰¾åˆ°ç¥ç§˜ç®±å­');

                updateProgress(95, 'æ‰“å¼€å®ç®±...');
                treasureIcon.textContent = 'ğŸ—ï¸';
                const treasure = await TreasureMap.openTreasureBox();
                addLog(treasure, 'success');
                updateProgress(98, 'å®è—å³å°†åˆ°æ‰‹');

                const blessing = await TreasureMap.receiveBlessing();
                addLog(blessing, 'success');
                updateProgress(100, 'å¯»å®å®Œæˆï¼è·å¾—ç¥ç¦ï¼');
                treasureIcon.textContent = 'ğŸ’°';

                addLog("ğŸ‰ å¯»å®æˆåŠŸå®Œæˆï¼æ­å–œå‘è´¢ï¼", 'success');

            } catch (error) {
                addLog(`ğŸ’€ ä»»åŠ¡å¤±è´¥: ${error}`, 'error');
                updateProgress(0, 'ä»»åŠ¡å¤±è´¥');
                treasureIcon.textContent = 'ğŸ’€';
            } finally {
                startBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
